<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Back Office</title>
	<link href="{{ url_for('public', path='css/styles_boffice.css') }}" rel="stylesheet">
</head>
<body>
<header>
        <h1>Back Office - Bienvenue</h1>
        <span id="responseExportPDF"></span>
        <span id="pathPDF"></span>
        <div class="logout">
            <button id="dcx">Deconnexion</button>
            <script>
                let btn = document.getElementById("dcx");
                btn.addEventListener("click", function() {
                    window.location.replace("/");
                });
            </script>
        </div>
</header>

<aside>
    <ul>
        <li>
            <h2>Produits</h2>
            <ul>
                <li><a href="#" id="linkCreateProd">Créer</a></li>
                <li><a href="#" id="linkUpdateProd">Modifier</a></li>
                <li><a href="#" id="linkDeleteProd">Supprimer</a></li>
            </ul>
        </li>
        <li>
            <h2>Promotions</h2>
            <ul>
                <li><a href="#" id="linkCreatePromo">Créer</a></li>
                <li><a href="#" id="linkUpdatePromo">Modifier</a></li>
                <li><a href="#" id="linkDeletePromo">Supprimer</a></li>
            </ul>
        </li>
        <button id="btnExport" class="favorite styled">Exporter en PDF</button> <br /><br />
        <li id="waitMsg"></li>
    </ul>
</aside>

<main>

    <!-- Formulaire création produit -->

    <div id="form-prod-container" style="display: none;">
        <form class="create-form" action="/createProd/" method="post" enctype="multipart/form-data">
            <h2>Créer un produit</h2>
            <div><br />
                <label for="label">Libellé:</label>
                <input type="text" id="label" name="label" required>
            </div>

            <div>
                <label for="description">Description:</label>
                <textarea id="description" name="description" required></textarea>
            </div>

            <div>
                <label for="price">Prix:</label>
                <input type="number" id="price" name="price" step="0.1" required />
            </div>

            <div>
                <label for="images">Image:</label>
                <input type="file" id="images" name="images" 
								   accept="image/png, image/jpeg, image/webp" required>
            </div>

			<fieldset>
				<legend> Produit en promotion </legend><br />
            <div class="radio-container">
				<input type="radio" id="promoOn" name="promo" value="on">
                <label for="promoOn">Oui</label>
				<input type="radio" id="promoOff" name="promo" value="off">
                <label for="promoOff">Non</label>
            </div>
			</fieldset><br />

              <div>
                <label for="categorie">Libéllé catégorie:</label>
                <input type="text" id="categorie" name="categorie" required />
            </div>

            <div>
                <button type="submit" id="submit-btn">Envoyer</button>
            </div>

        </form>
    </div>

    <!-- formulaire création promotion -->

    <div id="form-promo-container" style="display: none;">
        <form id= "promoForm" class="create-form" action="/createPromo/" method="post">
            <h2>Créer une promotion</h2><br />
            
            <div>
                <label for="id_produit">Id produit:</label>
                <input type="number" id="id_produit" name="id_produit" step="1" min="1" required />
                <fieldset>
                    <legend>Produit sélectionné</legend><br />
                    <div id="prodSelected"></div><br />
                </fieldset>
            </div>

            <div><br />
                <label for="dateD">Date de début:</label>
                <input type="date" id="dateD" name="dateD" required />
            </div>

            <div>
                <label for="dateF">Date de fin:</label>
                <input type="date" id="dateF" name="dateF" required />
            </div>

            <div>
                <label for="remise">Taux de remise:</label>
                <input type="number" id="remise" name="remise" step="1" min="1" required />
            </div>

            <div>
                <button type="submit" id="submit-btn">Envoyer</button>
            </div>

        </form>
    </div>

    <!-- formulaire Mise à jour produit -->

    <div id="form-updateProd-container" style="display: none;">
    <form id="prodUpdate" class="create-form" action="/updateProd/" method="post">
        <h2>Modification d'un produit</h2><br />

        <div>
            <label for="id_prodUpdate">Id produit:</label>
            <input type="number" id="id_prodUpdate" name="id_prodUpdate" step="1" min="1" required />
        </div>

        <div>
            <label for="libelleUpdate">Libellé:</label>
            <input id="libelleUpdate" name="libelleUpdate" rows="1" />
        </div>

        <div>
            <label for="descriptionUpdate">Description:</label>
            <textarea id="descriptionUpdate" name="descriptionUpdate" rows="2"></textarea>
        </div>

        <div>
            <label for="prixUpdate">Prix initial:</label>
            <input id="prixUpdate" name="prixUpdate" rows="1" />
        </div>

        <fieldset>
            <legend> Produit en promotion: </legend><br />
        <div class="radio-container">
            <input type="radio" id="promoOnUpdate" name="promoUpdate" value="on" />
            <label for="promoOnUpdate">Oui</label>
            <input type="radio" id="promoOffUpdate" name="promoUpdate" value="off" />
            <label for="promoOffUpdate">Non</label>
        </div>
        </fieldset><br />

        <div>
            <label for="categorieUpdate">Catégorie:</label>
            <input id="categorieUpdate" name="categorieUpdate" rows="1" />
        </div>

        <div>
            <label for="imageUpdate">Image:</label>
            <input type="file" id="imageUpdate" name="imageUpdate" 
                               accept="image/png, image/jpeg, image/webp">
        </div>

        <div>
            <button type="submit" id="submit-btn">Envoyer</button>
        </div>
    </form>
    </div>

</main>
<script src="{{ url_for('public', path='js/boffice.js') }} "></script>
</body>
</html>